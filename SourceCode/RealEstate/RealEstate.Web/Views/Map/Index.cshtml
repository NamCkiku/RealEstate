
@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<div class="main-content">
    <div id="map-canvas"></div>
    <div class="search-map-options active">
        <div class="search-map-options-icon"><i class="fa fa-spin fa-fw fa-smile-o"></i></div>
        <div class="search-map-options-heading">Tìm kiếm</div>
        <div class="search-map-options-body">
        </div>
    </div>
</div>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCeERa22t2lASaDOgxzPMZe1Fkm3ePJ7ok&libraries=places"
        type="text/javascript"></script>
<script>
    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function (position) {
            var pos = {
                lat: position.coords.latitude,
                lng: position.coords.longitude
            };

            var myLatlng = new google.maps.LatLng(pos.lat, pos.lng);
            var mapOptions = {
                zoom: 14,
                center: myLatlng
            }
            var map = new google.maps.Map(document.getElementById("map-canvas"), mapOptions);

            var marker = new google.maps.Marker({
                position: myLatlng,
                title: "Hello World!"
            });
            var populationOptions = {
                strokeColor: '#67cfd8',
                strokeOpacity: 0.6,
                strokeWeight: 1,
                fillColor: '#67cfd8',
                fillOpacity: 0.2,
                center: myLatlng,
                map: map,
                radius: Math.sqrt(2500000)
            };
            var cityCircle = new google.maps.Circle(populationOptions);
            // To add the marker to the map, call setMap();
            marker.setMap(map);

        }, function () {
        });
    }

    $(window).resize(function () {
        var h = window.innerHeight;
        $('#map-canvas').css('height', h - 60);
    }).resize();
    //Show Switcher
    $(".search-map-options-icon").click(function () {
        $('.search-map-options').toggleClass("active");
    });
</script>

